position_tuple1=[(119.3173, 330.7885), (333.8016, 229.5873), (227.9524, 160.2063), (253.6138, 143.5172), (253.6138, 143.5172), (254.1006, 139.4906), (345.5366, 90.2683), (354.6101, 90.20755), (401.585, 107.7891), (401.585, 107.7891), (401.585, 107.7891), (411.25, 109.9762), (426.3066, 99.60584), (426.3066, 99.60584), (426.3066, 99.60584), (432.3177, 98.64486), (0.0, 0.0), (472.0, 94.5), (472.0, 94.5), (474.2062, 391.1031), (250.1774, 118.7097), (353.6704, 88.67046), (422.9746, 102.7288), (442.7376, 99.18439), (442.7376, 99.18439), (418.4126, 94.27972), (407.4716, 94.7561), (407.4716, 94.7561), (399.4305, 116.4305), (399.4305, 116.4305), (399.4305, 116.4305), (390.7911, 130.1139), (387.4915, 138.661), (385.7784, 146.7425), (384.7162, 166.3108), (383.5349, 169.8217), (382.9606, 170.3937), (381.7462, 170.4692), (381.7462, 170.4692), (381.4638, 171.1956), (380.5954, 174.2901), (381.9386, 176.7281), (382.3786, 177.4951), (379.9185, 175.4593), (379.7185, 172.3704), (379.7185, 172.3704), (358.4672, 171.0984), (358.4672, 171.0984), (358.4672, 171.0984), (358.3898, 170.9661), (358.3898, 170.9661), (397.9655, 178.1552), (398.6048, 182.0403), (321.0, 262.4602), (209.7895, 229.5132), (338.4044, 85.85294), (338.4044, 85.85294), (403.4903, 95.43871), (430.1972, 99.35211), (430.1972, 99.35211), (413.4593, 105.6), (413.4593, 105.6), (413.4593, 105.6), (408.451, 109.3529), (408.451, 109.3529), (402.3942, 128.8175), (394.85, 152.6357), (394.85, 152.6357), (383.6604, 166.3774), (383.6604, 166.3774), (378.8108, 166.018), (378.525, 166.5917), (379.0125, 169.425), (376.1928, 170.0964), (376.2, 165.4105), (364.3889, 162.7302), (364.3889, 162.7302), (364.3889, 162.7302), (360.9691, 162.2371), (360.9691, 162.2371), (349.3077, 138.8077), (349.3077, 138.8077), (349.8732, 138.6972), (350.0, 138.8333), (350.5, 138.6048), (349.776, 138.576), (349.9174, 135.0459), (350.2049, 134.7295), (350.2049, 134.7295), (350.3089, 134.6911), (350.3876, 134.6822), (350.3876, 134.6822), (350.2969, 134.75), (350.4656, 134.6565), (350.4656, 134.6565), (350.622, 134.5984), (350.6378, 134.6772), (350.6378, 134.6772), (351.1313, 133.9899), (350.8108, 135.027), (350.8108, 135.027), (351.9661, 137.7203), (360.0, 157.425), (362.4318, 157.6818), (369.3095, 156.5238), (369.3095, 156.5238), (371.1469, 162.6993), (381.641, 154.3162), (387.4893, 158.5461), (387.4893, 158.5461), (390.4524, 172.0794), (390.4524, 172.0794), (386.9487, 171.6154), (386.604, 172.8993), (386.604, 172.8993), (381.9375, 175.2361), (381.9375, 175.2361), (379.8571, 177.2527), (375.2162, 175.5743), (367.5469, 161.2969), (371.0076, 146.7348), (371.0076, 146.7348), (372.9778, 147.3852), (372.9778, 147.3852), (374.5603, 152.8369), (374.5603, 152.8369), (373.9924, 182.0153), (373.9924, 182.0153), (222.9422, 174.2397), (122.3981, 342.8544), (332.1391, 92.0174), (333.8051, 90.54237), (408.6438, 106.0685), (408.6438, 106.0685), (438.1238, 97.09524), (415.018, 98.47748), (415.018, 98.47748), (398.622, 116.4961), (387.8159, 137.8221), (379.3431, 159.5985), (379.3431, 159.5985), (379.12, 171.36), (377.5221, 171.8676), (375.5454, 171.0682), (368.7578, 170.4844), (367.6945, 169.9907), (367.6945, 169.9907), (127.373, 278.5476)]

special_change_ids1=[2271373511107, 2271399089482, 2271402454357, 2271429893295, 2271429897857, 2271429914388, 2271430506545, 2271430509982, 2271430732545, 2271430735826, 2271430739545, 2271430743888, 2271430879982, 2271430885326, 2271430891701, 2271430912045, 2271433608732, 2271434761201, 2271434764888, 2271442536951, 2271456243857, 2271457557826, 2271457859045, 2271458071888, 2271458076201, 2271458653420, 2271458709795, 2271458722732, 2271458842482, 2271458850982, 2271458868701, 2271458930982, 2271458956982, 2271458979263, 2271459076232, 2271459103545, 2271459142951, 2271459195138, 2271459199763, 2271459224232, 2271459264388, 2271459369732, 2271459383795, 2271459503638, 2271459515513, 2271459524107, 2271459940607, 2271459949982, 2271459963670, 2271459973545, 2271459978576, 2271468753732, 2271468991732, 2271477279545, 2271480284513, 2271499299420, 2271499303826, 2271499563795, 2271500237638, 2271500246638, 2271500327920, 2271500336076, 2271500343545, 2271500360513, 2271500375920, 2271500455263, 2271500565826, 2271500575232, 2271500652263, 2271500657388, 2271500757576, 2271500804607, 2271500910451, 2271501025795, 2271501141763, 2271501260482, 2271501265576, 2271501271545, 2271501282951, 2271501287826, 2271501931857, 2271501940295, 2271502009013, 2271502111513, 2271502119170, 2271502216107, 2271502666701, 2271503250888, 2271503276857, 2271503426607, 2271503597826, 2271503603607, 2271503640295, 2271503739013, 2271503742482, 2271503801013, 2271504053357, 2271504058201, 2271504110545, 2271504194420, 2271504208326, 2271504323576, 2271504740920, 2271504760701, 2271504841170, 2271504846513, 2271504979295, 2271505133701, 2271505226638, 2271505240513, 2271505391607, 2271505399951, 2271505507076, 2271505526982, 2271505542920, 2271505630513, 2271505634670, 2271505652888, 2271505774107, 2271506054138, 2271506276920, 2271506283326, 2271506310013, 2271506318232, 2271506324045, 2271506329795, 2271512541951, 2271512558388, 2271516789763, 2271525065420, 2271616020045, 2271616498388, 2271619173201, 2271619181701, 2271620321857, 2271620548388, 2271620563107, 2271620692013, 2271620784607, 2271620930076, 2271620936263, 2271621175826, 2271621303701, 2271621334826, 2271621437232, 2271621448451, 2271621452951, 2271651692295]

def get_adjacent_time_differences(lst):
    differences = [0]
    for i in range(len(lst) - 1):
        difference = lst[i + 1] - lst[i]
        differences.append(difference//1e6)
    return differences
difference = get_adjacent_time_differences(special_change_ids1) 
print(difference)


from PIL import Image, ImageDraw

# Set the dimensions of the image and number of frames
width, height = 500, 400  # Adjust as needed
num_frames = len(difference)

# Define durations for each frame (in milliseconds)
# durations = [100, 150, 200, 300, 310, 1, 1, 1, 500, 550, 600, 650, 700, 750, 800, 850, 900, 950, 1000, 1050]
durations = difference

# Define lists of x and y coordinates for each frame
x_coordinates = [each[0] for each in position_tuple1]
y_coordinates = [each[1] for each in position_tuple1]

# Create an empty list to store the frames
frames = []

# Create frames
for frame in range(num_frames):
    # Create a new blank image for each frame
    img = Image.new('RGB', (width, height), color='white')
    draw = ImageDraw.Draw(img)

    # Get the x and y coordinates for the current frame
    x = x_coordinates[frame]
    y = y_coordinates[frame]

    # Draw the dot at the specified (x, y) coordinates
    draw.ellipse([x - 5, y - 5, x + 5, y + 5], fill='blue')

    # Draw the path by overlaying previous frames
    for i in range(frame):
        x_i = x_coordinates[i]
        y_i = y_coordinates[i]
        draw.ellipse([x_i - 2, y_i - 2, x_i + 2, y_i + 2], fill='blue')

    # Append the frame to the list with the corresponding duration
    frames.append((img, durations[frame]))
print(len(frames))
# Save the frames as a GIF
frames[0][0].save('moving_dots.gif', save_all=True, append_images=[frame[0] for frame in frames[1:]], duration=[frame[1] for frame in frames])

